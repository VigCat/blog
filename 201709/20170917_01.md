## 
### 作者               
jwh5566                
                
### 日期              
2017-09-17              
                
### 标签              
ansible，安装
                
----
### 1.安装 ansible
RHEL,CENTOS
更新epel仓库
```
$ sudo yum install ansible
```
UBUNTU
```
$ sudo apt-add-repository ppa:ansible/ansible
$ sudo apt-get update
$ sudo apt-get install ansible
```
PIP
```
$ sudo pip install ansible
```
检查版本
```
root@jwh5566:~# ansible --version
ansible 2.2.0.0
  config file = /etc/ansible/ansible.cfg
  configured module search path = Default w/o overrides
```
### 2.自动化简单任务
```
$ ansible all -i HOST, -m ping
$ ansible all -i test01.fale.io, -m ping
$ ansible all -i test01.fale.io, -m shell -a '/bin/echo hello ansible!'
```
### 3.playbooks
```yaml
---
- hosts: all          # 必须有的选项，运行在那些主机或主机组上
  remote_user: fale   # 使用指定用户登录远程主机 
  tasks:              # 一些需要执行的任务列表
  - name: 确保httpd安装
    yum: 
      name: httpd
      state: present
      become: True
  - name: 确保httpd服务打开并且运行
    service:
      name: httpd
      state: started
      enabled: True  # 确保开机启动
      become: True   # 执行sudo操作
```
运行playbook
```
$ ansible-playbook -i test01.fale.io, setup_apache.yaml
```