##  django技巧#8 自定义管理器
### 作者               
jwh5566                
                
### 日期              
2017-12-06                  
### 标签              
Python3.6 ，Django 1.11, 自定义管理器

---
定义model.Manager的子类，实现get_queryset方法，在模型中定义管理器的实例
```python
class IncompleteTodoManager(models.Manager):  # 自定义管理器子类
    def get_queryset(self):
        return super(IncompleteTodoManager, self).get_queryset().filter(is_done=False)


class HighPriorityManager(models.Manager):
    def get_queryset(self):
        return super(HighPriorityManager, self).get_queryset().filter(priority__gt=1)


class ToDo(models.Model):
    content = models.CharField(max_length=200)
    is_done = models.BooleanField(default=False)
    priority = models.IntegerField(default=1)

    def __str__(self):
        return "%s-%d" %(self.content, self.priority)

    todoLists = models.Manager()   #  重命名默认的管理器
    incomplete = IncompleteTodoManager() # 定义自定义管理器的实例
	high = HighPriorityManager()
```
